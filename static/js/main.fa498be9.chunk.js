(this["webpackJsonpmatch-three"]=this["webpackJsonpmatch-three"]||[]).push([[0],{106:function(t,e,n){"use strict";n.r(e);var r,a=n(0),c=n.n(a),o=n(29),u=n.n(o),i=n(147),s=n(148),l=n(158),b=n(142),d=n(153),f=n(151),m=n(143),h=n(144),O=n(44),p=n(22),v=n(19),j=n(122),g=n(155),E=n(123),x="COLLAPSING",w=function(t){return t.matchThree},y=Object(p.a)([w],(function(t){return t.board})),B={board:y,columnCount:Object(p.a)([y],j.a),rowCount:Object(p.a)([y],g.a(E.a,j.a)),grabbed:Object(p.a)([w],(function(t){return t.grabbed})),status:Object(p.a)([w],(function(t){return t.status}))},k={setBoard:Object(v.b)("[match-three] SET_BOARD"),setGrabbed:Object(v.b)("[match-three] SET_GRABBED"),setStatus:Object(v.b)("[match-three] SET_STATUS"),grab:Object(v.b)("[match-three] GRAB"),drop:Object(v.b)("[match-three] DROP")},S={reducer:Object(v.c)({board:void 0,grabbed:void 0,status:void 0},(r={},Object(O.a)(r,k.setBoard,(function(t,e){t.board=e.payload})),Object(O.a)(r,k.setGrabbed,(function(t,e){t.grabbed=e.payload})),Object(O.a)(r,k.setStatus,(function(t,e){t.status=e.payload})),r)),actions:k,selectors:B},C=n(88),R=n(28),L=n.n(R),I=n(141),T=n(9),D=n(127),G=n(128),N=n(125),A=n(79),M=n(129),P=n(152),z=n(130),H=n(131),W=n(89),J=n(65),Y=n(160),_=n(161),q=n(33),K=n(132),U=n(133),F=n(81),Q=n(134),V=n(135),X=n(136),Z=n(80),$=n(154),tt=n(137),et=n(38),nt=n(156),rt=n(138),at=n(139),ct=n(157),ot=n(63),ut=n(82),it=n(140),st=n(90),lt=n(124),bt=n(126),dt=n(159),ft=n(78),mt=n.n(ft),ht=lt.a(Math.random),Ot=g.a(ht,E.a),pt=g.a(N.a(bt.a),q.a((function(t){return t*t})),dt.a,Math.sqrt),vt=Object.values({Red:"red",Blue:"blue",Yellow:"yellow",Green:"green",Purple:"purple"}),jt={ColorBomb:"ColorBomb",RadiusBomb:"RadiusBomb",LineBomb:"LineBomb"},gt=function(){return{id:mt()(),color:Ot(vt),type:Math.random()<=.05?Ot(D.a(jt)):void 0}},Et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return G.a((function(){return G.a((function(){return gt()}),e)}),t)},xt=N.a((function(t,e){return A.a(t)||A.a(e)?null:t})),wt=N.a(xt),yt=j.a,Bt=g.a(E.a,j.a),kt=M.a((function(t){return P.a(", ",[yt(t),Bt(t)])}),(function(t){return z.a(H.a(0,yt(t)),H.a(0,Bt(t)))})),St=function(t,e){return W.a((function(n){return t(n,J.a(n,e))}),kt(e))},Ct=function(t,e,n){return Y.a(_.a(t),e,n)},Rt=q.a(g.a(K.a(U.a(F.a("color"))),q.a(Q.a(g.a(j.a,V.a(X.a,3)),q.a(Z.a(null)))),$.a)),Lt=g.a(tt.a,Rt,tt.a),It=function(t){return wt(Lt(t),Rt(t))},Tt=function(t){return St((function(t,e){return A.a(e)}),It(t))},Dt=function(t){return St((function(t,e){return function(t){return t.type===jt.RadiusBomb}(e)}),t)},Gt=function(t){return et.a((function(t,e){return function(t,e){return et.a((function(t,e){return Ct(e,null,t)}),e,St((function(e){return pt(t,e)<=1.5}),e))}(e,t)}),t,nt.a(Tt(t),Dt(t)))},Nt=function(t){return St((function(t,e){return function(t){return t.type===jt.ColorBomb}(e)}),t)},At=function(t){return et.a((function(e,n){return function(t,e){return q.a(q.a(Q.a((function(e){return(null===e||void 0===e?void 0:e.color)===t}),Z.a(null))),e)}(J.a(n,t).color,e)}),t,nt.a(Tt(t),Nt(t)))},Mt=function(t){return St((function(t,e){return function(t){return t.type===jt.LineBomb}(e)}),t)},Pt=function(t){return et.a((function(t,e){return function(t,e){return et.a((function(t,e){return Ct(e,null,t)}),e,St((function(e){return e[0]===t}),e))}(e[0],t)}),t,nt.a(function(t){return St((function(t,e){return A.a(e)}),Rt(t))}(t),Mt(t)))},zt=function(t){return et.a((function(t,e){return function(t,e){return et.a((function(t,e){return Ct(e,null,t)}),e,St((function(e){return e[1]===t}),e))}(e[1],t)}),t,nt.a(function(t){return St((function(t,e){return A.a(e)}),Lt(t))}(t),Mt(t)))},Ht=function(t){return et.a(wt,t,[It(t),Gt(t),At(t),Pt(t),zt(t)])},Wt=q.a(rt.a(at.a(A.a))),Jt=q.a(q.a(Q.a(A.a,gt))),Yt=ct.a(ot.a,[ut.a,Ht]),_t=it.a((function(t,e,n){return g.a(st.a(t,J.a(e,n)),st.a(e,J.a(t,n)))(n)})),qt=g.a(pt,ot.a(1)),Kt=L.a.mark(ae),Ut=L.a.mark(ce),Ft=L.a.mark(oe),Qt=L.a.mark(ue),Vt=(Object(v.b)("[animation] STARTED"),Object(v.b)("[animation] COMPLETED"),S.actions),Xt=S.selectors,Zt=Vt.setStatus,$t=Vt.setBoard,te=Vt.setGrabbed,ee=Vt.grab,ne=Vt.drop,re=Xt.board;function ae(){var t,e,n,r,a;return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(T.e)(ee);case 2:return t=c.sent,e=t.payload,c.next=6,Object(T.c)(te(e));case 6:return c.next=8,Object(T.e)(ne);case 8:return n=c.sent,r=n.payload,c.next=12,Object(T.c)(te(void 0));case 12:if(!qt(e,r)){c.next=37;break}return c.next=15,Object(T.d)(re);case 15:return a=c.sent,c.t0=T.c,c.t1=$t,c.t2=_t,c.t3=e,c.t4=r,c.next=23,Object(T.d)(re);case 23:return c.t5=c.sent,c.t6=(0,c.t2)(c.t3,c.t4,c.t5),c.t7=(0,c.t1)(c.t6),c.next=28,(0,c.t0)(c.t7);case 28:return c.t8=Yt,c.next=31,Object(T.d)(re);case 31:if(c.t9=c.sent,!(0,c.t8)(c.t9)){c.next=37;break}return c.next=35,Object(T.a)(500);case 35:return c.next=37,Object(T.c)($t(a));case 37:case"end":return c.stop()}}),Kt)}function ce(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.c)(Zt(x));case 2:return t.t0=I.a,t.t1=Yt,t.next=6,Object(T.d)(re);case 6:if(t.t2=t.sent,t.t3=(0,t.t1)(t.t2),!(0,t.t0)(t.t3)){t.next=47;break}return t.next=11,Object(T.a)(1e3/3);case 11:return t.t4=T.c,t.t5=$t,t.t6=Ht,t.next=16,Object(T.d)(re);case 16:return t.t7=t.sent,t.t8=(0,t.t6)(t.t7),t.t9=(0,t.t5)(t.t8),t.next=21,(0,t.t4)(t.t9);case 21:return t.next=23,Object(T.a)(1e3/3);case 23:return t.t10=T.c,t.t11=$t,t.t12=Wt,t.next=28,Object(T.d)(re);case 28:return t.t13=t.sent,t.t14=(0,t.t12)(t.t13),t.t15=(0,t.t11)(t.t14),t.next=33,(0,t.t10)(t.t15);case 33:return t.next=35,Object(T.a)(1e3/3);case 35:return t.t16=T.c,t.t17=$t,t.t18=Jt,t.next=40,Object(T.d)(re);case 40:return t.t19=t.sent,t.t20=(0,t.t18)(t.t19),t.t21=(0,t.t17)(t.t20),t.next=45,(0,t.t16)(t.t21);case 45:t.next=2;break;case 47:return t.next=49,Object(T.c)(Zt(void 0));case 49:case"end":return t.stop()}}),Ut)}function oe(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(ce(),"t0",2);case 2:return t.delegateYield(ae(),"t1",3);case 3:t.next=0;break;case 5:case"end":return t.stop()}}),Ft)}function ue(){var t,e;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[[]],n.next=3,Object(T.c)($t(t));case 3:return n.next=5,Object(T.a)(500);case 5:return e=Et(),n.next=8,Object(T.c)($t(e));case 8:return n.next=10,Object(T.b)(oe);case 10:case"end":return n.stop()}}),Qt)}var ie=Object(C.a)(),se=[ie],le=n(73),be=n(27),de=n(16),fe=S.selectors,me=S.actions,he=function(){var t=Object(be.c)(fe.rowCount),e=Object(be.c)(fe.columnCount),n=Object(be.c)(fe.board),r=Object(be.c)(fe.grabbed),a=Object(be.c)(fe.status),c=Object(be.b)();return Object(le.a)(Object(le.a)({},Object(de.b)(me,c)),{},{rowCount:t,columnCount:e,board:n,grabbed:r,status:a})},Oe=function(){var t=he().status===x;return c.a.createElement(l.a,{color:"transparent",elevation:0,position:"sticky"},c.a.createElement(b.a,null,c.a.createElement(d.a,{in:t},c.a.createElement(f.a,{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},c.a.createElement(f.a,{marginRight:1,color:"text.secondary"},c.a.createElement(m.a,{size:"1em",color:"inherit"})),c.a.createElement(h.a,{variant:"subtitle2",color:"textSecondary"},"Collapsing...")))))},pe=n(41),ve=n(40),je=n(64),ge=n(67),Ee=n(145),xe=n(68),we=n(69),ye=n(146),Be=function(t){Object(a.useEffect)((function(){if(t){var e=function(t){t.preventDefault(),t.stopPropagation()},n=function(t){t.touches.length>1&&(t.preventDefault(),t.stopPropagation())};return t.addEventListener("click",e),t.addEventListener("touchstart",n,{passive:!1}),function(){t.removeEventListener("click",e),t.removeEventListener("touchstart",n)}}}),[t])},ke=function(t){return{red:ge.a,yellow:Ee.a,blue:xe.a,green:we.a,purple:ye.a}[t]},Se=Object(i.a)((function(t){return{item:{borderRadius:t.spacing(1),width:"100%",height:"100%",background:function(t){var e,n=t.color;return e=ke(n),"radial-gradient(".concat(e[400],", ").concat(e[900],")")}},radiusBomb:{width:"100%",height:"100%",borderRadius:"50%",background:function(t){var e,n=t.color;return e=ke(n),"repeating-linear-gradient(".concat(e[400],", ").concat(e[900],")")}},colorBomb:{width:"100%",height:"100%",background:"transparent",borderRadius:"50%",border:function(e){var n=e.color;return"".concat(t.spacing(1),"px solid ").concat(ke(n)[600])}},lineBomb:{borderRadius:t.spacing(1),width:"100%",height:"100%",background:"transparent",border:function(e){var n=e.color;return"".concat(t.spacing(1),"px solid ").concat(ke(n)[600])}}}})),Ce=function(t){var e=t.item,n=Se({color:e.color});return c.a.createElement("div",{className:n.item})},Re=function(t){var e=t.item,n=Se({color:e.color});return c.a.createElement("div",{className:n.radiusBomb})},Le=function(t){var e=t.item,n=Se({color:e.color});return c.a.createElement("div",{className:n.colorBomb})},Ie=function(t){var e=t.item,n=Se({color:e.color});return c.a.createElement("div",{className:n.lineBomb})},Te=function(t){var e=t.item;switch(e.type){case jt.LineBomb:return c.a.createElement(Ie,{item:e});case jt.RadiusBomb:return c.a.createElement(Re,{item:e});case jt.ColorBomb:return c.a.createElement(Le,{item:e});default:return c.a.createElement(Ce,{item:e})}},De=function(t){var e=t.item,n=Object(a.useRef)();return Be(n.current),c.a.createElement(ve.b.div,{style:{zIndex:100,width:"100%",height:"100%"},ref:n,initial:{scale:0,transformOrigin:"center"},animate:{scale:.85,transformOrigin:"center"},exit:{transformOrigin:"center",scale:0}},c.a.createElement(Te,{item:e}))},Ge=function(t){return"".concat(100*t,"%")},Ne={notSelected:{scale:1,opacity:1},selected:{scale:1+1/3,opacity:3/4},hover:{scale:.9,opacity:.9}},Ae=function(t){var e=t.rowIndex,n=t.columnIndex,r=t.boardHeight,o=t.boardWidth,u=t.item,i=he(),s=i.grabbed,l=i.columnCount,b=i.rowCount,d=i.grab,m=i.drop,h=i.status===x,O=ot.a(s,[n,e]),p=Object(a.useState)(!1),v=Object(pe.a)(p,2),j=v[0],g=v[1],E=h?"notSelected":O?"selected":j?"hover":"notSelected",w={position:"absolute",top:Ge(e/b),left:Ge(n/l),width:o/l,height:r/b,zIndex:O?2:1};return c.a.createElement(je.a,{key:u.id,flipId:u.id},c.a.createElement(f.a,{style:w,onMouseDown:function(){O?m([n,e]):d([n,e])},onMouseEnter:function(){s&&m([n,e])}},c.a.createElement(ve.b.div,{onHoverStart:function(){g(!0)},onHoverEnd:function(){g(!1)},style:{width:"100%",height:"100%"},variants:Ne,initial:"notSelected",animate:E},c.a.createElement(De,{item:u}))))},Me=Object(i.a)((function(t){return{wait:{cursor:"wait"},grab:{cursor:"grab"},grabbing:{cursor:"grabbing"}}})),Pe=function(){var t=he(),e=function(){var t=Me(),e=he(),n=e.status,r=e.grabbed,a=n===x,c=Boolean(r);return a?t.wait:c?t.grabbing:t.grab}(),n=t.board,r=t.columnCount,o=t.rowCount,u=Object(a.useRef)(),i=function(t){var e=Object(a.useState)([0,0]),n=Object(pe.a)(e,2),r=n[0],c=n[1];return Object(a.useLayoutEffect)((function(){if(t.current){var e=function(){c([t.current.offsetWidth,t.current.offsetHeight])};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}}),[t]),r}(u),s=Object(pe.a)(i,1)[0],l=s/r*o,b=JSON.stringify(n);return c.a.createElement(f.a,{className:e,ref:u,width:"100%",height:l,position:"relative"},c.a.createElement(je.b,{flipKey:b},c.a.createElement(ve.a,null,n.map((function(t,e){return t.map((function(t,n){return t?c.a.createElement(Ae,{key:t.id,rowIndex:n,columnIndex:e,item:t,boardHeight:l,boardWidth:s}):null}))})))))},ze=Object(i.a)((function(t){return{root:{touchAction:"none"}}})),He=function(){var t=ze();return Be(),c.a.createElement(s.a,{maxWidth:"xs",disableGutters:!0,className:t.root},c.a.createElement(Oe,null),c.a.createElement(Pe,null))},We=n(87),Je=Object(de.c)({matchThree:S.reducer}),Ye=Object(We.a)(se),_e=Object(v.a)({reducer:Je,middleware:Ye});ie.run(ue);var qe=function(t){var e=t.children;return c.a.createElement(be.a,{store:_e},e)},Ke=n(86),Ue=n(149),Fe=n(150),Qe=Object(Ke.a)({palette:{type:"dark",background:{default:"#101010"}}}),Ve=function(t){var e=t.children;return c.a.createElement(Ue.a,{theme:Qe},c.a.createElement(Fe.a,null),e)},Xe=function(){return c.a.createElement(qe,null,c.a.createElement(Ve,null,c.a.createElement(He,null)))};u.a.render(c.a.createElement(Xe,null),document.getElementById("root"))},94:function(t,e,n){t.exports=n(106)}},[[94,1,2]]]);
//# sourceMappingURL=main.fa498be9.chunk.js.map